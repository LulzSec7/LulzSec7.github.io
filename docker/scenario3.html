<!DOCTYPE html><html><head><meta charset="utf-8"><title>scenario3.md</title><style></style></head><body id="preview">
<h1><a id="Scenario2_Building_Container_Images_0"></a>Scenario-2: Building Container Images</h1>
<h2><a id="Step_1__Base_Images_2"></a>Step 1 - Base Images</h2>
<blockquote>
<p>Add the following line in <strong>Dockerfile</strong></p>
</blockquote>
<pre><code class="language-bash">FROM nginx:<span class="hljs-number">1.11</span>-alpine
</code></pre>
<hr>
<h2><a id="Step_2__Running_Commands_8"></a>Step 2 - Running Commands</h2>
<blockquote>
<p>A new index.html file has been created for you which we want to serve from our container. On the next line after the FROM command, use the COPY command to copy index.html into a directory called /usr/share/nginx/html</p>
</blockquote>
<pre><code class="language-bash">Copy to EditorCOPY index.html /usr/share/nginx/html/index.html
</code></pre>
<hr>
<h2><a id="Step_3__Exposing_Ports_15"></a>Step 3 - Exposing Ports</h2>
<blockquote>
<p>We want our web server to be accessible via port 80, add the relevant EXPOSE line to the Dockerfile.</p>
</blockquote>
<pre><code class="language-bash">EXPOSE <span class="hljs-number">80</span>
</code></pre>
<hr>
<h2><a id="Step_4__Default_Commands_21"></a>Step 4 - Default Commands</h2>
<blockquote>
<p>The command to run NGINX is nginx -g daemon off;. Set this as the default command in the Dockerfile.</p>
</blockquote>
<pre><code class="language-bash">Copy to EditorCMD [<span class="hljs-string">"nginx"</span>, <span class="hljs-string">"-g"</span>, <span class="hljs-string">"daemon off;"</span>]
</code></pre>
<hr>
<h2><a id="Step_5__Building_Containers_28"></a>Step 5 - Building Containers</h2>
<blockquote>
<p>Using the docker build command to build the image. You can give the image a friendly name by using the -t &lt;name&gt; option.</p>
</blockquote>
<pre><code class="language-bash">docker build -t my-nginx-image:latest .
</code></pre>
<hr>
<h2><a id="Step_6__Launching_New_Image_34"></a>Step 6 - Launching New Image</h2>
<blockquote>
<p>NGINX is designed to run as a background service so you should include the option -d. To make the web server accessible, bind it to port 80 using p 80:80</p>
</blockquote>
<pre><code class="language-bash">docker run <span class="hljs-operator">-d</span> -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> my-nginx-image:latest
</code></pre>
<hr>

</body></html>